# Управление игрой #

Здесь описывается процесс управления игрой от создания и до завершения игры.

## Жизненный цикл игры ##

Для начала опишу жизненный цикл игры, т.е. граф состояний переходов.
Картинку рисовать влом, так что обрисую граф состояний переходов словами)))
Следующие состояния игры приведены в последовательности соответствующей основному сценарию жизненного цикла игры:

  * **Planned** - начальное состояние игры сразу после создания. В этом состоянии команды могут видеть игру и регистрироваться в игре, можно делать практически все, что не запрещено. Далее, действие **Подготовить к запуску**, переводит состояние игры в **Startup**.
  * **Startup** - "подготовка к запуску". В данном состоянии для игроков, вступивших в команды зарегистрированные на игре, запрещены практически все действия, исключая регистрацию и авторизацию. В данное состояние рекомендую переводить игру за 30-15 минут до начала игры, ну либо непосредственно перед началом минут за 5 - это на Ваш выбор. Если игрок попытается выполнить запрещенное действие, то он перенаправится на страницу игры своей команды. Действие **Запустить** переводит игру в следующее состояние **Started**. Игра сама не запустится в назначенное время, если не будет выполнено действие **Запустить**. Это действие можно выполнять за 1-2 минуты до времени начала игры, например в 20:58 при этом игра запустится, но первое задание команды получат ровно в 21:00. Если же действие **Запустить** выполнить после 21:00, то игра запустится сразу же после выполнения действия **Запустить** и команды получат первые задания.
  * **Started** - игра запущена. Ну здесь думаю и так все понятно. Действие **Остановить** переводит игру в состояние **Finished**. Действие **Остановить** так же выполняется автоматически системой, например в 6:00.
  * **Finished** - игра завершена. В этом состоянии игра закончена и команды могут видеть свои результаты. Действия игроков по прежнему все еще ограничены как и в состоянии **Startup**. Действие **Закрыть** переводит игру в состояние **Cloused**. Закрывать игру сразу после завершения не рекомендую, точно не помню, но вроде как при закрытии сбрасывается вся телеметрия, так что рекомендую повременить с закрытием игры.
  * **Cloused** - игра закрыта. В этом состоянии все действия снова доступны для игроков, можно создавать новую игру и запускать ее.

Помимо вышеописанных действий с игрой есть еще одно действие предназначенное сугубо для тестирования - это действие **Перезапустить игру**. Действие **Перезапустить игру** переводит игру в состояние **Planned**, из следующих двух состояний **Finished** и **Cloused**.